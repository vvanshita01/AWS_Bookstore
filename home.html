<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookstore - Home</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <header>
        <h1>Welcome to Our Bookstore</h1>
        <nav>
            <ul>
                <li><a href="login.html" id="loginLink">Login</a></li>
                <li><a href="#" id="logoutLink" style="display: none;">Logout</a></li>
                <li><button id="addBookButton" style="display: none;">Add Book</button></li>
            </ul>
        </nav>
    </header>
    <main id="books-container">
    </main>
    <footer>
        <p>&copy; 2024 Bookstore created by darshil vanshita and mahima. All rights reserved.</p>
    </footer>
    <script>
        window.onload = function() {
            var isLoggedIn = localStorage.getItem('isLoggedIn');
            if (isLoggedIn) {
                var loginLink = document.getElementById('loginLink');
                var logoutLink = document.getElementById('logoutLink');
                var addBookButton = document.getElementById('addBookButton');
                loginLink.style.display = 'none';
                logoutLink.style.display = 'inline';
                addBookButton.style.display = 'inline';
            }

            const booksData = [
                {
                    "Image": "1.jpg",
                    "Title": "Automating DevOps with GitLab CI/CD Pipelines",
                    "Authors": "Christopher Cowell, Nicholas Lotz and Chris Timberlake",
                    "Publisher": "Packt Publishing",
                    "Year": 2023
                },
                {
                    "Image": "2.jpeg",
                    "Title": "AWS Cookbook",
                    "Authors": "John Culkin and Mike Zazon",
                    "Publisher": "O'Reilly Media",
                    "Year": 2021,
                },
                {
                    "Image": "3.jpeg",
                    "Title": "Serverless Development on AWS",
                    "Authors": "Sheen Brisals and Luke Hedger",
                    "Publisher": "O'Reilly Media",
                    "Year": 2024
                },
                {
                    "Image": "4.jpeg",
                    "Title": "Building Scalable Apps with Redis and Node.js",
                    "Authors": "Joshua Johanan",
                    "Publisher": "Packt Publishing",
                    "Year": 2014,
                },
                {
                    "Image": "5.jpeg",
                    "Title": "Terraform Cookbook",
                    "Authors": "Kerim Satirli and Taylor Dolezal",
                    "Publisher": "O'Reilly Media",
                    "Year": 2024
                },
                {
                    "Image": "6.jpeg",
                    "Title": "Amazon Web Services in Action",
                    "Authors": "Michael Wittig and Andreas Wittig",
                    "Publisher": "Manning Publications",
                    "Year": 2023
                }
            ];

            const booksContainer = document.getElementById('books-container');
            booksData.forEach(book => {
                const bookTile = document.createElement('div');
                bookTile.classList.add('book-tile');

                const titleElement = document.createElement('h3');
                titleElement.textContent = book.Title;

                const authorElement = document.createElement('p');
                authorElement.textContent = 'Authors: ' + book.Authors;

                const publisherElement = document.createElement('p');
                publisherElement.textContent = 'Publisher: ' + book.Publisher;

                const yearElement = document.createElement('p');
                yearElement.textContent = 'Year: ' + book.Year;

                const imageElement = document.createElement('img');
                imageElement.src = book.Image;
                imageElement.alt = book.Title;
                imageElement.classList.add('book-image');

                const editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.addEventListener('click', function() {
                    window.location.href = 'edit.html?bookId=' + encodeURIComponent(book.Title);
                });

                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', function() {
                    var confirmation = confirm("Are you sure you want to delete this book?");
                    if (confirmation) {
                        bookTile.remove();
                    }
                });

                bookTile.appendChild(titleElement);
                bookTile.appendChild(authorElement);
                bookTile.appendChild(publisherElement);
                bookTile.appendChild(yearElement);
                bookTile.appendChild(imageElement);
                bookTile.appendChild(editButton);
                bookTile.appendChild(deleteButton);

                booksContainer.appendChild(bookTile);
            });

            var addBookButton = document.getElementById('addBookButton');
            addBookButton.addEventListener('click', function() {

                window.location.href = 'add_book.html';
            });

            var logoutLink = document.getElementById('logoutLink');
            logoutLink.addEventListener('click', function() {
                localStorage.removeItem('isLoggedIn');
                window.location.href = 'login.html';
            });
        };    
    </script>
</body>
</html>
